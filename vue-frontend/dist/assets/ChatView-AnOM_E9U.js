import{c as ue,r as x,a as P,w as B,o as q,n as Pe,d as E,t as H,g as Te,h as Be,b as k,e as m,f as $,i as ee,u as t,j as _,k as V,m as L,l as Y,p as g,q as be,s as R,v as y,x as F,F as Ae,y as Ue,z as Fe,A as Z,B as ge,C as He,D as We,E as Ye,G as K,H as te,I as Xe,J as je,K as Ke,L as qe,_ as _e,M as X,N as D,O as j,P as Je,Q as se,R as Ge,S as Qe}from"./index-CSZ9edpw.js";import{c as ae,d as Ze,i as et,r as tt,u as at,a as I,P as U,b as W,e as Me,w as ot,B as ie,_ as J,f as we,g as xe,U as lt}from"./index-8hsMokCs.js";import{g as ye,f as Se,h as nt,e as Ce,a as rt}from"./index-hijg72sg.js";import{L as st}from"./loader-circle-BViBXd4a.js";/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=ue("paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=ue("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=ue("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),[Le,xa]=ae("ConfigProvider");function ct(a){const e=Le({dir:x("ltr")});return P(()=>{var o;return(a==null?void 0:a.value)||((o=e.dir)==null?void 0:o.value)||"ltr"})}function Ne(a,e){const o=x(a);function n(i){return e[o.value][i]??o.value}return{state:o,dispatch:i=>{o.value=n(i)}}}function ut(a,e){var h;const o=x({}),n=x("none"),r=x(a),i=a.value?"mounted":"unmounted";let u;const s=((h=e.value)==null?void 0:h.ownerDocument.defaultView)??Ze,{state:d,dispatch:p}=Ne(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),v=l=>{var c;if(et){const f=new CustomEvent(l,{bubbles:!1,cancelable:!1});(c=e.value)==null||c.dispatchEvent(f)}};B(a,async(l,c)=>{var T;const f=c!==l;if(await Pe(),f){const A=n.value,N=G(e.value);l?(p("MOUNT"),v("enter"),N==="none"&&v("after-enter")):N==="none"||N==="undefined"||((T=o.value)==null?void 0:T.display)==="none"?(p("UNMOUNT"),v("leave"),v("after-leave")):c&&A!==N?(p("ANIMATION_OUT"),v("leave")):(p("UNMOUNT"),v("after-leave"))}},{immediate:!0});const b=l=>{const c=G(e.value),f=c.includes(l.animationName),T=d.value==="mounted"?"enter":"leave";if(l.target===e.value&&f&&(v(`after-${T}`),p("ANIMATION_END"),!r.value)){const A=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",u=s==null?void 0:s.setTimeout(()=>{var N;((N=e.value)==null?void 0:N.style.animationFillMode)==="forwards"&&(e.value.style.animationFillMode=A)})}l.target===e.value&&c==="none"&&p("ANIMATION_END")},w=l=>{l.target===e.value&&(n.value=G(e.value))},C=B(e,(l,c)=>{l?(o.value=getComputedStyle(l),l.addEventListener("animationstart",w),l.addEventListener("animationcancel",b),l.addEventListener("animationend",b)):(p("ANIMATION_END"),u!==void 0&&(s==null||s.clearTimeout(u)),c==null||c.removeEventListener("animationstart",w),c==null||c.removeEventListener("animationcancel",b),c==null||c.removeEventListener("animationend",b))},{immediate:!0}),M=B(d,()=>{const l=G(e.value);n.value=d.value==="mounted"?l:"none"});return q(()=>{C(),M()}),{isPresent:P(()=>["mounted","unmountSuspended"].includes(d.value))}}function G(a){return a&&getComputedStyle(a).animationName||"none"}const de=E({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(a,{slots:e,expose:o}){var p;const{present:n,forceMount:r}=H(a),i=x(),{isPresent:u}=ut(n,i);o({present:u});let s=e.default({present:u.value});s=tt(s||[]);const d=Te();if(s&&(s==null?void 0:s.length)>1){const v=(p=d==null?void 0:d.parent)!=null&&p.type.name?`<${d.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${v}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(b=>`  - ${b}`).join(`
`)].join(`
`))}return()=>r.value||n.value||u.value?Be(e.default({present:u.value})[0],{ref:v=>{const b=at(v);return typeof(b==null?void 0:b.hasAttribute)>"u"||(b!=null&&b.hasAttribute("data-reka-popper-content-wrapper")?i.value=b.firstElementChild:i.value=b),b}}):null}});function dt(a){const e=Le({nonce:x()});return P(()=>{var o;return(a==null?void 0:a.value)||((o=e.nonce)==null?void 0:o.value)})}function ft(a,e=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY){return Math.min(o,Math.max(e,a))}const[O,pt]=ae("ScrollAreaRoot"),vt=E({__name:"ScrollAreaRoot",props:{type:{default:"hover"},dir:{},scrollHideDelay:{default:600},asChild:{type:Boolean},as:{}},setup(a,{expose:e}){const o=a,n=x(0),r=x(0),i=x(),u=x(),s=x(),d=x(),p=x(!1),v=x(!1),{type:b,dir:w,scrollHideDelay:C}=H(o),M=ct(w);function S(){var f;(f=i.value)==null||f.scrollTo({top:0})}function h(){var f;(f=i.value)==null||f.scrollTo({top:0,left:0})}e({viewport:i,scrollTop:S,scrollTopLeft:h});const{forwardRef:l,currentElement:c}=I();return pt({type:b,dir:M,scrollHideDelay:C,scrollArea:c,viewport:i,onViewportChange:f=>{i.value=f||void 0},content:u,onContentChange:f=>{u.value=f},scrollbarX:s,scrollbarXEnabled:p,scrollbarY:d,scrollbarYEnabled:v,onScrollbarXChange:f=>{s.value=f||void 0},onScrollbarYChange:f=>{d.value=f||void 0},onScrollbarXEnabledChange:f=>{p.value=f},onScrollbarYEnabledChange:f=>{v.value=f},onCornerWidthChange:f=>{n.value=f},onCornerHeightChange:f=>{r.value=f}}),(f,T)=>(_(),k(t(U),{ref:t(l),"as-child":o.asChild,as:f.as,dir:t(M),style:ee({position:"relative","--reka-scroll-area-corner-width":`${n.value}px`,"--reka-scroll-area-corner-height":`${r.value}px`})},{default:m(()=>[$(f.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),mt=E({__name:"ScrollAreaCornerImpl",setup(a){const e=O(),o=x(0),n=x(0),r=P(()=>!!o.value&&!!n.value);function i(){var d;const s=((d=e.scrollbarX.value)==null?void 0:d.offsetHeight)||0;e.onCornerHeightChange(s),n.value=s}function u(){var d;const s=((d=e.scrollbarY.value)==null?void 0:d.offsetWidth)||0;e.onCornerWidthChange(s),o.value=s}return W(e.scrollbarX.value,i),W(e.scrollbarY.value,u),B(()=>e.scrollbarX.value,i),B(()=>e.scrollbarY.value,u),(s,d)=>{var p;return r.value?(_(),k(t(U),L({key:0,style:{width:`${o.value}px`,height:`${n.value}px`,position:"absolute",right:t(e).dir.value==="ltr"?0:void 0,left:t(e).dir.value==="rtl"?0:void 0,bottom:0}},(p=s.$parent)==null?void 0:p.$props),{default:m(()=>[$(s.$slots,"default")]),_:3},16,["style"])):V("",!0)}}}),ht=E({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean},as:{}},setup(a){const e=a,{forwardRef:o}=I(),n=O(),r=P(()=>!!n.scrollbarX.value&&!!n.scrollbarY.value),i=P(()=>n.type.value!=="scroll"&&r.value);return(u,s)=>i.value?(_(),k(mt,L({key:0},e,{ref:t(o)}),{default:m(()=>[$(u.$slots,"default")]),_:3},16)):V("",!0)}});function Ie(a,e){return o=>{if(a[0]===a[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(a[1]-a[0]);return e[0]+n*(o-a[0])}}function oe(a){const e=Oe(a.viewport,a.content),o=a.scrollbar.paddingStart+a.scrollbar.paddingEnd,n=(a.scrollbar.size-o)*e;return Math.max(n,18)}function Oe(a,e){const o=a/e;return Number.isNaN(o)?0:o}function bt(a,e=()=>{}){let o={left:a.scrollLeft,top:a.scrollTop},n=0;return function r(){const i={left:a.scrollLeft,top:a.scrollTop},u=o.left!==i.left,s=o.top!==i.top;(u||s)&&e(),o=i,n=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(n)}function Ee(a,e,o="ltr"){const n=oe(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-r,u=e.content-e.viewport,s=i-n,d=o==="ltr"?[0,u]:[u*-1,0],p=ft(a,d[0],d[1]);return Ie([0,u],[0,s])(p)}function Q(a){return a?Number.parseInt(a,10):0}function gt(a,e,o,n="ltr"){const r=oe(o),i=r/2,u=e||i,s=r-u,d=o.scrollbar.paddingStart+u,p=o.scrollbar.size-o.scrollbar.paddingEnd-s,v=o.content-o.viewport,b=n==="ltr"?[0,v]:[v*-1,0];return Ie([d,p],b)(a)}function $e(a,e){return a>0&&a<e}const Re=E({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(a,{emit:e}){const o=a,n=e,r=O(),i=le(),u=ne(),{forwardRef:s,currentElement:d}=I(),p=x(""),v=x();function b(l){var c,f;if(v.value){const T=l.clientX-((c=v.value)==null?void 0:c.left),A=l.clientY-((f=v.value)==null?void 0:f.top);n("onDragScroll",{x:T,y:A})}}function w(l){l.button===0&&(l.target.setPointerCapture(l.pointerId),v.value=d.value.getBoundingClientRect(),p.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",r.viewport&&(r.viewport.value.style.scrollBehavior="auto"),b(l))}function C(l){b(l)}function M(l){const c=l.target;c.hasPointerCapture(l.pointerId)&&c.releasePointerCapture(l.pointerId),document.body.style.webkitUserSelect=p.value,r.viewport&&(r.viewport.value.style.scrollBehavior=""),v.value=void 0}function S(l){var A;const c=l.target,f=(A=d.value)==null?void 0:A.contains(c),T=i.sizes.value.content-i.sizes.value.viewport;f&&i.handleWheelScroll(l,T)}Y(()=>{document.addEventListener("wheel",S,{passive:!1})}),q(()=>{document.removeEventListener("wheel",S)});function h(){var l,c,f,T,A;d.value&&(o.isHorizontal?i.handleSizeChange({content:((l=r.viewport.value)==null?void 0:l.scrollWidth)??0,viewport:((c=r.viewport.value)==null?void 0:c.offsetWidth)??0,scrollbar:{size:d.value.clientWidth??0,paddingStart:Q(getComputedStyle(d.value).paddingLeft),paddingEnd:Q(getComputedStyle(d.value).paddingRight)}}):i.handleSizeChange({content:((f=r.viewport.value)==null?void 0:f.scrollHeight)??0,viewport:((T=r.viewport.value)==null?void 0:T.offsetHeight)??0,scrollbar:{size:((A=d.value)==null?void 0:A.clientHeight)??0,paddingStart:Q(getComputedStyle(d.value).paddingLeft),paddingEnd:Q(getComputedStyle(d.value).paddingRight)}}))}return W(d,h),W(r.content,h),(l,c)=>(_(),k(t(U),{ref:t(s),style:{position:"absolute"},"data-scrollbarimpl":"",as:t(u).as.value,"as-child":t(u).asChild.value,onPointerdown:w,onPointermove:C,onPointerup:M},{default:m(()=>[$(l.$slots,"default")]),_:3},8,["as","as-child"]))}}),_t=E({__name:"ScrollAreaScrollbarX",setup(a){const e=O(),o=le(),{forwardRef:n,currentElement:r}=I();Y(()=>{r.value&&e.onScrollbarXChange(r.value)});const i=P(()=>o.sizes.value);return(u,s)=>(_(),k(Re,{ref:t(n),"is-horizontal":!0,"data-orientation":"horizontal",style:ee({bottom:0,left:t(e).dir.value==="rtl"?"var(--reka-scroll-area-corner-width)":0,right:t(e).dir.value==="ltr"?"var(--reka-scroll-area-corner-width)":0,"--reka-scroll-area-thumb-width":i.value?`${t(oe)(i.value)}px`:void 0}),onOnDragScroll:s[0]||(s[0]=d=>t(o).onDragScroll(d.x))},{default:m(()=>[$(u.$slots,"default")]),_:3},8,["style"]))}}),wt=E({__name:"ScrollAreaScrollbarY",setup(a){const e=O(),o=le(),{forwardRef:n,currentElement:r}=I();Y(()=>{r.value&&e.onScrollbarYChange(r.value)});const i=P(()=>o.sizes.value);return(u,s)=>(_(),k(Re,{ref:t(n),"is-horizontal":!1,"data-orientation":"vertical",style:ee({top:0,right:t(e).dir.value==="ltr"?0:void 0,left:t(e).dir.value==="rtl"?0:void 0,bottom:"var(--reka-scroll-area-corner-height)","--reka-scroll-area-thumb-height":i.value?`${t(oe)(i.value)}px`:void 0}),onOnDragScroll:s[0]||(s[0]=d=>t(o).onDragScroll(d.y))},{default:m(()=>[$(u.$slots,"default")]),_:3},8,["style"]))}}),[le,xt]=ae("ScrollAreaScrollbarVisible"),fe=E({__name:"ScrollAreaScrollbarVisible",setup(a){const e=O(),o=ne(),{forwardRef:n}=I(),r=x({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),i=P(()=>{const l=Oe(r.value.viewport,r.value.content);return l>0&&l<1}),u=x(),s=x(0);function d(l,c){if(C.value){const f=e.viewport.value.scrollLeft+l.deltaY;e.viewport.value.scrollLeft=f,$e(f,c)&&l.preventDefault()}else{const f=e.viewport.value.scrollTop+l.deltaY;e.viewport.value.scrollTop=f,$e(f,c)&&l.preventDefault()}}function p(l,c){C.value?s.value=c.x:s.value=c.y}function v(l){s.value=0}function b(l){r.value=l}function w(l,c){return gt(l,s.value,r.value,c)}const C=P(()=>o.isHorizontal.value);function M(l){C.value?e.viewport.value.scrollLeft=w(l,e.dir.value):e.viewport.value.scrollTop=w(l)}function S(){if(C.value){if(e.viewport.value&&u.value){const l=e.viewport.value.scrollLeft,c=Ee(l,r.value,e.dir.value);u.value.style.transform=`translate3d(${c}px, 0, 0)`}}else if(e.viewport.value&&u.value){const l=e.viewport.value.scrollTop,c=Ee(l,r.value);u.value.style.transform=`translate3d(0, ${c}px, 0)`}}function h(l){u.value=l}return xt({sizes:r,hasThumb:i,handleWheelScroll:d,handleThumbDown:p,handleThumbUp:v,handleSizeChange:b,onThumbPositionChange:S,onThumbChange:h,onDragScroll:M}),(l,c)=>C.value?(_(),k(_t,L({key:0},l.$attrs,{ref:t(n)}),{default:m(()=>[$(l.$slots,"default")]),_:3},16)):(_(),k(wt,L({key:1},l.$attrs,{ref:t(n)}),{default:m(()=>[$(l.$slots,"default")]),_:3},16))}}),De=E({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean}},setup(a){const e=O(),o=ne(),{forwardRef:n}=I(),r=x(!1),i=Me(()=>{if(e.viewport.value){const u=e.viewport.value.offsetWidth<e.viewport.value.scrollWidth,s=e.viewport.value.offsetHeight<e.viewport.value.scrollHeight;r.value=o.isHorizontal.value?u:s}},10);return Y(()=>i()),W(e.viewport,i),W(e.content,i),(u,s)=>(_(),k(t(de),{present:u.forceMount||r.value},{default:m(()=>[g(fe,L(u.$attrs,{ref:t(n),"data-state":r.value?"visible":"hidden"}),{default:m(()=>[$(u.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),yt=E({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean}},setup(a){const e=O(),{forwardRef:o}=I();let n;const r=x(!1);function i(){window.clearTimeout(n),r.value=!0}function u(){n=window.setTimeout(()=>{r.value=!1},e.scrollHideDelay.value)}return Y(()=>{const s=e.scrollArea.value;s&&(s.addEventListener("pointerenter",i),s.addEventListener("pointerleave",u))}),q(()=>{const s=e.scrollArea.value;s&&(window.clearTimeout(n),s.removeEventListener("pointerenter",i),s.removeEventListener("pointerleave",u))}),(s,d)=>(_(),k(t(de),{present:s.forceMount||r.value},{default:m(()=>[g(De,L(s.$attrs,{ref:t(o),"data-state":r.value?"visible":"hidden"}),{default:m(()=>[$(s.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),St=E({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean}},setup(a){const e=O(),o=ne(),{forwardRef:n}=I(),{state:r,dispatch:i}=Ne("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});be(s=>{if(r.value==="idle"){const d=window.setTimeout(()=>i("HIDE"),e.scrollHideDelay.value);s(()=>{window.clearTimeout(d)})}});const u=Me(()=>i("SCROLL_END"),100);return be(s=>{const d=e.viewport.value,p=o.isHorizontal.value?"scrollLeft":"scrollTop";if(d){let v=d[p];const b=()=>{const w=d[p];v!==w&&(i("SCROLL"),u()),v=w};d.addEventListener("scroll",b),s(()=>{d.removeEventListener("scroll",b)})}}),(s,d)=>(_(),k(t(de),{present:s.forceMount||t(r)!=="hidden"},{default:m(()=>[g(fe,L(s.$attrs,{ref:t(n)}),{default:m(()=>[$(s.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),[ne,Ct]=ae("ScrollAreaScrollbar"),kt=E({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},setup(a){const e=a,{forwardRef:o}=I(),n=O(),r=P(()=>e.orientation==="horizontal");B(r,()=>{r.value?n.onScrollbarXEnabledChange(!0):n.onScrollbarYEnabledChange(!0)},{immediate:!0}),q(()=>{n.onScrollbarXEnabledChange(!1),n.onScrollbarYEnabledChange(!1)});const{orientation:i,forceMount:u,asChild:s,as:d}=H(e);return Ct({orientation:i,forceMount:u,isHorizontal:r,as:d,asChild:s}),(p,v)=>t(n).type.value==="hover"?(_(),k(yt,L({key:0},p.$attrs,{ref:t(o),"force-mount":t(u)}),{default:m(()=>[$(p.$slots,"default")]),_:3},16,["force-mount"])):t(n).type.value==="scroll"?(_(),k(St,L({key:1},p.$attrs,{ref:t(o),"force-mount":t(u)}),{default:m(()=>[$(p.$slots,"default")]),_:3},16,["force-mount"])):t(n).type.value==="auto"?(_(),k(De,L({key:2},p.$attrs,{ref:t(o),"force-mount":t(u)}),{default:m(()=>[$(p.$slots,"default")]),_:3},16,["force-mount"])):t(n).type.value==="always"?(_(),k(fe,L({key:3},p.$attrs,{ref:t(o),"data-state":"visible"}),{default:m(()=>[$(p.$slots,"default")]),_:3},16)):V("",!0)}}),Et=E({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean},as:{}},setup(a){const e=a,o=O(),n=le();function r(w){const M=w.target.getBoundingClientRect(),S=w.clientX-M.left,h=w.clientY-M.top;n.handleThumbDown(w,{x:S,y:h})}function i(w){n.handleThumbUp(w)}const{forwardRef:u,currentElement:s}=I(),d=x(),p=P(()=>o.viewport.value);function v(){if(!d.value){const w=bt(p.value,n.onThumbPositionChange);d.value=w,n.onThumbPositionChange()}}const b=P(()=>n.sizes.value);return ot(b,()=>{n.onThumbChange(s.value),p.value&&(n.onThumbPositionChange(),p.value.addEventListener("scroll",v))}),q(()=>{var w;p.value.removeEventListener("scroll",v),(w=o.viewport.value)==null||w.removeEventListener("scroll",v)}),(w,C)=>(_(),k(t(U),{ref:t(u),"data-state":t(n).hasThumb?"visible":"hidden",style:{width:"var(--reka-scroll-area-thumb-width)",height:"var(--reka-scroll-area-thumb-height)"},"as-child":e.asChild,as:w.as,onPointerdown:r,onPointerup:i},{default:m(()=>[$(w.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),$t=E({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(a,{expose:e}){const o=a,{nonce:n}=H(o),r=dt(n),i=O(),u=x();Y(()=>{i.onViewportChange(u.value),i.onContentChange(d.value)}),e({viewportElement:u});const{forwardRef:s,currentElement:d}=I();return(p,v)=>(_(),R(Ae,null,[y("div",L({ref_key:"viewportElement",ref:u,"data-reka-scroll-area-viewport":"",style:{overflowX:t(i).scrollbarXEnabled.value?"scroll":"hidden",overflowY:t(i).scrollbarYEnabled.value?"scroll":"hidden"}},p.$attrs,{tabindex:0}),[g(t(U),{ref:t(s),style:ee({minWidth:t(i).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":o.asChild,as:p.as},{default:m(()=>[$(p.$slots,"default")]),_:3},8,["style","as-child","as"])],16),g(t(U),{as:"style",nonce:t(r)},{default:m(()=>v[0]||(v[0]=[F(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-reka-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")])),_:1},8,["nonce"])],64))}}),Pt=E({__name:"BaseSeparator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(a){const e=a,o=["horizontal","vertical"];function n(s){return o.includes(s)}const r=P(()=>n(e.orientation)?e.orientation:"horizontal"),i=P(()=>r.value==="vertical"?e.orientation:void 0),u=P(()=>e.decorative?{role:"none"}:{"aria-orientation":i.value,role:"separator"});return(s,d)=>(_(),k(t(U),L({as:s.as,"as-child":s.asChild,"data-orientation":r.value},u.value),{default:m(()=>[$(s.$slots,"default")]),_:3},16,["as","as-child","data-orientation"]))}}),Tt=E({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(a){const e=a;return(o,n)=>(_(),k(Pt,Ue(Fe(e)),{default:m(()=>[$(o.$slots,"default")]),_:3},16))}});function At(a){if(!Z(a))return ge(a);const e=new Proxy({},{get(o,n,r){return t(Reflect.get(a.value,n,r))},set(o,n,r){return Z(a.value[n])&&!Z(r)?a.value[n].value=r:a.value[n]=r,!0},deleteProperty(o,n){return Reflect.deleteProperty(a.value,n)},has(o,n){return Reflect.has(a.value,n)},ownKeys(){return Object.keys(a.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return ge(e)}function Mt(a){return At(P(a))}function pe(a,...e){const o=e.flat(),n=o[0];return Mt(()=>Object.fromEntries(typeof n=="function"?Object.entries(H(a)).filter(([r,i])=>!n(He(i),r)):Object.entries(H(a)).filter(r=>!o.includes(r[0]))))}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Lt=a=>typeof a<"u";function Nt(a){return JSON.parse(JSON.stringify(a))}function It(a,e,o,n={}){var r,i,u;const{clone:s=!1,passive:d=!1,eventName:p,deep:v=!1,defaultValue:b,shouldEmit:w}=n,C=Te(),M=o||(C==null?void 0:C.emit)||((r=C==null?void 0:C.$emit)==null?void 0:r.bind(C))||((u=(i=C==null?void 0:C.proxy)==null?void 0:i.$emit)==null?void 0:u.bind(C==null?void 0:C.proxy));let S=p;S=S||`update:${e.toString()}`;const h=f=>s?typeof s=="function"?s(f):Nt(f):f,l=()=>Lt(a[e])?h(a[e]):b,c=f=>{w?w(f)&&M(S,f):M(S,f)};if(d){const f=l(),T=x(f);let A=!1;return B(()=>a[e],N=>{A||(A=!0,T.value=h(N),Pe(()=>A=!1))}),B(T,N=>{!A&&(N!==a[e]||v)&&c(N)},{deep:v}),T}else return P({get(){return l()},set(f){c(f)}})}const Ot=E({__name:"Textarea",props:{class:{},defaultValue:{},modelValue:{}},emits:["update:modelValue"],setup(a,{emit:e}){const o=a,r=It(o,"modelValue",e,{passive:!0,defaultValue:o.defaultValue});return(i,u)=>We((_(),R("textarea",{"onUpdate:modelValue":u[0]||(u[0]=s=>Z(r)?r.value=s:null),class:K(t(te)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",o.class))},null,2)),[[Ye,t(r)]])}}),Rt=E({__name:"ScrollBar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(a){const e=a,o=pe(e,"class");return(n,r)=>(_(),k(t(kt),L(t(o),{class:t(te)("flex touch-none select-none transition-colors",n.orientation==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",n.orientation==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",e.class)}),{default:m(()=>[g(t(Et),{class:"relative flex-1 rounded-full bg-border"})]),_:1},16,["class"]))}}),Dt=E({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(a){const e=a,o=pe(e,"class");return(n,r)=>(_(),k(t(vt),L(t(o),{class:t(te)("relative overflow-hidden",e.class)}),{default:m(()=>[g(t($t),{class:"h-full w-full rounded-[inherit]"},{default:m(()=>[$(n.$slots,"default")]),_:3}),g(Rt),g(t(ht))]),_:3},16,["class"]))}}),zt=E({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},class:{}},setup(a){const e=a,o=pe(e,"class");return(n,r)=>(_(),k(t(Tt),L(t(o),{class:t(te)("shrink-0 bg-border",e.orientation==="horizontal"?"h-px w-full":"w-px h-full",e.class)}),null,16,["class"]))}}),Vt=Xe("chat",()=>{const a=x([]),e=x(!1),o=x(""),n=x(null),r=x(null),i=x(null),u=P(()=>a.value.length>0),s=P(()=>!e.value&&(r.value||a.value.length>0));function d(S){const h={...S,id:ye(),timestamp:new Date};return a.value.push(h),h}function p(S,h=!1){n.value&&(n.value.content=S,n.value.isStreaming=!h,h&&(a.value.push({...n.value}),n.value=null))}async function v(S){var f,T,A,N;const h=(f=S.body)==null?void 0:f.getReader();if(!h)throw new Error("无法读取响应流");const l=new TextDecoder;let c="";n.value={id:ye(),content:"",isUser:!1,timestamp:new Date,isStreaming:!0};try{for(;;){const{done:ve,value:ze}=await h.read();if(ve)break;c+=l.decode(ze,{stream:!0});const me=c.split(`
`);c=me.pop()||"";for(const he of me)if(he.startsWith("data: ")){const re=he.slice(6).trim();if(re==="[DONE]"){p(((T=n.value)==null?void 0:T.content)||"",!0),o.value="";return}try{const z=JSON.parse(re);switch(z.type){case"file_processing":o.value=`📄 ${z.message}`;break;case"ocr_processing":o.value=`🔍 ${z.message}`;break;case"thinking":o.value="🤔 AI正在思考...";break;case"content":if(z.content){const Ve=(((A=n.value)==null?void 0:A.content)||"")+z.content;p(Ve)}break;case"complete":p(((N=n.value)==null?void 0:N.content)||"",!0),o.value="";return;case"error":p(`❌ ${z.message}`,!0),o.value="",console.error("流式响应错误:",z.message);return}}catch(z){console.warn("解析流式数据失败:",re,z)}}}}finally{h.releaseLock()}}async function b(S,h){if(!(!S.trim()&&!h)){d({content:S,isUser:!0,fileInfo:h?{name:h.name,size:h.size,type:h.type}:void 0}),e.value=!0,o.value="正在连接...",i.value=new AbortController;try{let l;h?(console.log("📎 使用多模态接口:",h.name),l=await je(S,a.value.slice(0,-1),h,.7,2048,i.value.signal)):(console.log("💬 使用文本接口"),l=await Ke(S,a.value.slice(0,-1),.7,2048,i.value.signal)),console.log("✅ 连接成功，开始处理流式响应..."),o.value="开始接收响应...",await v(l)}catch(l){console.error("❌ 发送消息失败:",l),l.name==="AbortError"?(console.log("🛑 请求已取消"),o.value="请求已取消"):(d({content:`❌ 发送失败: ${l.message}`,isUser:!1}),o.value="")}finally{e.value=!1,n.value=null,r.value=null}}}function w(){i.value&&(i.value.abort(),i.value=null),e.value=!1,n.value=null,o.value="请求已取消"}function C(){a.value=[],n.value=null,o.value=""}function M(S){r.value=S}return{messages:a,isLoading:e,processingStatus:o,currentStreamingMessage:n,processedFile:r,hasMessages:u,canSend:s,addMessage:d,sendMessage:b,cancelRequest:w,clearMessages:C,setProcessedFile:M}}),Bt={class:"flex flex-col h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800"},Ut={class:"border-b bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm sticky top-0 z-10"},Ft={class:"container mx-auto px-4 py-4"},Ht={class:"flex items-center justify-between"},Wt={class:"flex items-center gap-3"},Yt={class:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center"},Xt={key:0},jt={class:"flex-1 container mx-auto px-4 py-6 max-w-4xl flex flex-col"},Kt={key:0,class:"mb-4"},qt={class:"flex items-center gap-3"},Jt={class:"w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center"},Gt={class:"flex-1"},Qt={class:"font-medium text-slate-900 dark:text-slate-100"},Zt={class:"text-sm text-slate-500 dark:text-slate-400"},ea={class:"space-y-6 pb-4"},ta={class:"flex items-center gap-2 text-sm"},aa={class:"text-slate-700 dark:text-slate-300"},oa={key:0,class:"space-y-3"},la={class:"group"},na={class:"mt-3 p-3 bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700"},ra={class:"text-sm text-slate-600 dark:text-slate-300 whitespace-pre-wrap leading-relaxed"},sa={class:"text-slate-800 dark:text-slate-200 whitespace-pre-wrap leading-relaxed"},ia={key:1,class:"whitespace-pre-wrap leading-relaxed break-words"},ca={class:"text-xs text-slate-400 dark:text-slate-500 px-1"},ua={key:0,class:"flex gap-4 max-w-full"},da={class:"flex flex-col gap-2 max-w-[75%] items-start"},fa={class:"text-slate-800 dark:text-slate-200 whitespace-pre-wrap leading-relaxed break-words"},pa={key:0,class:"inline-block w-2 h-5 bg-blue-500 animate-pulse ml-1"},va={class:"mt-6"},ma={class:"flex gap-3"},ha={class:"flex-1 relative"},ya=E({__name:"ChatView",setup(a){const e=Vt(),{messages:o,isLoading:n,processingStatus:r,currentStreamingMessage:i,processedFile:u}=qe(e),{sendMessage:s,cancelRequest:d,setProcessedFile:p}=e,v=x(""),b=x();async function w(){!v.value.trim()&&!u.value||(await s(v.value,u.value||void 0),v.value="")}async function C(h){var f;const l=h.target,c=(f=l.files)==null?void 0:f[0];c&&(await S(c),l.value="")}async function M(h){var c;const l=(c=h.dataTransfer)==null?void 0:c.files[0];l&&await S(l)}async function S(h){try{console.log("📎 开始处理文件:",h.name),p({name:h.name,size:h.size,type:h.type,processing:!0});const l=await Qe(h);p(l),console.log("✅ 文件处理完成:",l)}catch(l){console.error("❌ 文件处理失败:",l),p(null),alert(`文件处理失败: ${l.message}`)}}return(h,l)=>(_(),R("div",Bt,[y("div",Ut,[y("div",Ft,[y("div",Ht,[y("div",Wt,[y("div",Yt,[g(t(ie),{class:"h-5 w-5 text-white"})]),l[4]||(l[4]=y("div",null,[y("h1",{class:"text-xl font-semibold text-slate-900 dark:text-slate-100"},"TZ-LM 智能助手"),y("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"多模态AI聊天系统")],-1))]),t(r)?(_(),R("div",Xt,[g(t(_e),{variant:"outline",class:"px-3 py-1.5 bg-blue-50 border-blue-200 text-blue-700"},{default:m(()=>[g(t(st),{class:"h-4 w-4 mr-2 animate-spin"}),F(" "+D(t(r)),1)]),_:1})])):V("",!0)])])]),y("div",jt,[t(u)?(_(),R("div",Kt,[g(t(X),{class:"border-dashed border-2 border-blue-200 bg-blue-50/50 dark:border-blue-800 dark:bg-blue-950/50"},{default:m(()=>[g(t(j),{class:"p-4"},{default:m(()=>[y("div",qt,[y("div",Jt,[g(t(ce),{class:"h-5 w-5 text-blue-600 dark:text-blue-400"})]),y("div",Gt,[y("p",Qt,D(t(u).name),1),y("p",Zt,D(t(Se)(t(u).size)),1)]),g(t(J),{variant:"ghost",size:"sm",onClick:l[0]||(l[0]=c=>t(p)(null)),class:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"},{default:m(()=>[g(t(ke),{class:"h-4 w-4"})]),_:1})])]),_:1})]),_:1})])):V("",!0),g(t(Dt),{class:"flex-1 pr-4"},{default:m(()=>[y("div",ea,[(_(!0),R(Ae,null,Je(t(o),c=>(_(),R("div",{key:c.id,class:K(["flex gap-4 max-w-full",c.isUser?"flex-row-reverse":""])},[g(t(we),{class:"w-10 h-10 flex-shrink-0"},{default:m(()=>[g(t(xe),{class:K(["text-white font-medium",c.isUser?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-blue-500 to-purple-600"])},{default:m(()=>[c.isUser?(_(),k(t(lt),{key:0,class:"h-5 w-5"})):(_(),k(t(ie),{key:1,class:"h-5 w-5"}))]),_:2},1032,["class"])]),_:2},1024),y("div",{class:K(["flex flex-col gap-2 max-w-[75%]",c.isUser?"items-end":"items-start"])},[c.fileInfo?(_(),k(t(X),{key:0,class:"border-slate-200 dark:border-slate-700"},{default:m(()=>[g(t(j),{class:"p-3"},{default:m(()=>[y("div",ta,[g(t(ce),{class:"h-4 w-4 text-slate-500"}),y("span",aa,D(c.fileInfo.name),1),g(t(_e),{variant:"secondary",class:"text-xs"},{default:m(()=>[F(D(t(Se)(c.fileInfo.size)),1)]),_:2},1024)])]),_:2},1024)]),_:2},1024)):V("",!0),g(t(X),{class:K(["shadow-sm transition-all duration-200 hover:shadow-md",c.isUser?"bg-gradient-to-br from-green-500 to-emerald-600 text-white border-green-200":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"])},{default:m(()=>[g(t(j),{class:"p-4"},{default:m(()=>[!c.isUser&&t(nt)(c.content)?(_(),R("div",oa,[y("details",la,[l[5]||(l[5]=y("summary",{class:"cursor-pointer text-sm text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 flex items-center gap-2"},[y("span",{class:"text-base"},"🤔"),y("span",null,"查看思考过程"),y("span",{class:"text-xs opacity-60 group-open:hidden"},"(点击展开)")],-1)),y("div",na,[y("div",ra,D(t(Ce)(c.content).think),1)])]),g(t(zt),{class:"my-3"}),y("div",sa,D(t(Ce)(c.content).content),1)])):(_(),R("div",ia,D(c.content),1))]),_:2},1024)]),_:2},1032,["class"]),y("div",ca,D(t(rt)(c.timestamp)),1)],2)],2))),128)),t(i)?(_(),R("div",ua,[g(t(we),{class:"w-10 h-10 flex-shrink-0"},{default:m(()=>[g(t(xe),{class:"bg-gradient-to-br from-blue-500 to-purple-600 text-white"},{default:m(()=>[g(t(ie),{class:"h-5 w-5"})]),_:1})]),_:1}),y("div",da,[g(t(X),{class:"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 shadow-sm"},{default:m(()=>[g(t(j),{class:"p-4"},{default:m(()=>[y("div",fa,[F(D(t(i).content)+" ",1),t(i).isStreaming?(_(),R("span",pa,"▋")):V("",!0)])]),_:1})]),_:1})])])):V("",!0)])]),_:1}),y("div",va,[g(t(X),{class:"border-slate-200 dark:border-slate-700 shadow-lg bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm"},{default:m(()=>[g(t(j),{class:"p-4"},{default:m(()=>[y("div",ma,[y("div",ha,[g(t(Ot),{modelValue:v.value,"onUpdate:modelValue":l[1]||(l[1]=c=>v.value=c),placeholder:"输入消息，支持拖拽文件...",class:"min-h-[60px] max-h-32 resize-none pr-12 border-slate-200 dark:border-slate-700 focus:border-blue-500 dark:focus:border-blue-400 transition-colors",disabled:t(n),onKeydown:Ge(se(w,["exact","prevent"]),["enter"]),onDrop:se(M,["prevent"]),onDragover:l[2]||(l[2]=se(()=>{},["prevent"]))},null,8,["modelValue","disabled","onKeydown"]),y("input",{ref_key:"fileInput",ref:b,type:"file",accept:".pdf,.png,.jpg,.jpeg,.wav,.mp3",onChange:C,class:"hidden"},null,544),g(t(J),{variant:"ghost",size:"sm",class:"absolute right-2 top-2 h-8 w-8 text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",onClick:l[3]||(l[3]=c=>{var f;return(f=b.value)==null?void 0:f.click()}),disabled:t(n)},{default:m(()=>[g(t(ce),{class:"h-4 w-4"})]),_:1},8,["disabled"])]),t(n)?(_(),k(t(J),{key:0,variant:"destructive",onClick:t(d),class:"px-6"},{default:m(()=>[g(t(ke),{class:"h-4 w-4 mr-2"}),l[6]||(l[6]=F(" 取消 "))]),_:1,__:[6]},8,["onClick"])):(_(),k(t(J),{key:1,onClick:w,disabled:!v.value.trim()&&!t(u)||t(n),class:"px-6 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white border-0"},{default:m(()=>[g(t(it),{class:"h-4 w-4 mr-2"}),l[7]||(l[7]=F(" 发送 "))]),_:1,__:[7]},8,["disabled"]))])]),_:1})]),_:1})])])]))}});export{ya as default};
//# sourceMappingURL=ChatView-AnOM_E9U.js.map
